<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="stylesheets/betacreator.css" media="all" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script src="javascripts/betacreator.js"></script>
    <script src="javascripts/main.js"></script>

    <title>Betacreator by nemophrost</title>
  </head>

  <body onLoad="init()">
    <header>
      <div class="inner">
        <h1>Betacreator</h1>
        <h2>BetaCreator is a free tool for the creation of rock climbing route guides/beta photos.</h2>
        <a href="https://github.com/nemophrost/betacreator" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>Try it</h1>

<p>
  <img id="srcImg" src="http://www.valleyoutdoors.com/Hikes/images/halfdome.jpg" />
  <br />
  <button onClick="saveData()">Save</button>
  <button onClick="loadData()">Load</button>
</p>

<h2>How to Use</h2>

<p>
  To create a BetaCreator instance, you must call BetaCreator with an image element as the first parameter. It takes an optional second parameter which contain settings.
</p>
<p>
  <code>
    BetaCreator(image, settings);
  </code>
</p>
<p>
  So, in the simplest case, using BetaCreator would look something like this:
</p>

<p>
<code>
  var foo = BetaCreator(document.getElementById('myImg'));
</code>
</p>

<p>
  With some settings, it might look like this:
</p>

<p>
<code>
  var foo = BetaCreator(document.getElementById('myImg'), {<br />
  &nbsp; &nbsp; zoom: 'contain',<br />
  &nbsp; &nbsp; height: 400,<br />
  &nbsp; &nbsp; width: '100%',<br />
  &nbsp; &nbsp; parent: document.getElementById('myDiv'),<br />
  &nbsp; &nbsp; onChange: function() {<br />
  &nbsp; &nbsp; &nbsp; &nbsp; // do something (call getData and save it?)<br />
  &nbsp; &nbsp; }<br />
  });
</code>
</p>

<p>
  The settings are as follows:

<dl>
  <dt>zoom</dt>
  <dd>The zoom level for the editor upon load. Accepts a number from 1-1200, 'cover', 'contain' (default).</dd>
  <dt>height</dt>
  <dd>The inner height of the editor, not including the option bar at the top. Can be a number or a percentage as a string ('100%'). If omitted it will be the height of the image.</dd>
  <dt>width</dt>
  <dd>The inner width of the editor. Can be a number or a percentage as a string ('100%'). If omitted it will be the width of the image. Note: there is a minimum width of 556 enforced if you set this to a number or omit it (to fit the option bar).</dd>
  <dt>parent</dt>
  <dd>The parent element for the editor to be appended to. If omitted, the source image will be replaced by the editor.</dd>
  <dt>onChange</dt>
  <dd>A callback function that will be called every time the document is changed by the user.</dd>
</dl>
</p>

<h2>API</h2>

<p>
  Calling <code>BetaCreator()</code> returns an object with the following API methods on it:

  <dl>
    <dt>getData(escape:Boolean = false):String</dt>
    <dd>Returns a string of JSON encoded data representing the drawing layer of the editor. It takes an optional boolean <code>escape</code> which, if true, will cause the output of <code>getData</code> to have quotes and special characters (like new lines) escaped. This is particularly useful if you were to store this in a database and inject it into some JavaScript code on the server. For example if you did the following in php, you would need to have the data escaped: <code>myBetaCreator.getData("&lt;?php echo $bcData; ?&gt;");</code></dd>
  </dl>
  <dl>
    <dt>getImage(includeSource:Boolean = false, type:String = 'png'):String</dt>
    <dd>Returns a base64 encoded data URI of the image. It takes two optional parameters. <code>includeSource</code> is a boolean which, if true, will return the image data for the drawing layer composited with the source image. The <code>type</code> parameter can be either 'png' or 'jpg'. In order for 'jpg' to work, <code>includeSource</code> will have to be true. There is no point in giving back the drawing layer without transparency. With no parameters <code>getImage</code> will produce the image data for the drawing layer as a PNG.</dd>
  </dl>
  <dl>
    <dt>loadData(data:String)</dt>
    <dd>Takes a string of JSON as output from <code>getData</code> and loads it into the editor.</dd>
  </dl>
</p>


        </section>

        <aside id="sidebar">
          <a href="https://github.com/nemophrost/betacreator/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/nemophrost/betacreator/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/nemophrost/betacreator"></a> is maintained by <a href="https://github.com/nemophrost">nemophrost</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
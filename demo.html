<!DOCTYPE html>
<html> 
<head>
<title>BetaCreator</title>

<link href="css/betacreator.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="js/closure/closure/goog/base.js"></script>
<script type="text/javascript" src="js/bin/deps.js"></script>
<script>
goog.require("bc.Client");
</script>

<script type="text/javascript">
var betaCreator = null;

function init() {
	var outp = document.getElementById('outp');
	betaCreator = BetaCreator(document.getElementById('srcImg'), {
		zoom: 100,
		height: 300,
		width: 20,
		onChange: function() {
			outp.value = "Last changed at: " + new Date();
		}
	});
}

function saveData() {
	if (!betaCreator)
		return;

	if (window.localStorage)
		localStorage.bcData = betaCreator.getData();
	else
		alert(betaCreator.getData());
}

function loadData() {
	if (!betaCreator)
		return;

	if (window.localStorage && localStorage.bcData)
		betaCreator.loadData(localStorage.bcData);
	else
		alert("No data stored locally. You must save first.");
}

</script>
</head>

<body onLoad="init()">
	<img id="srcImg" src="http://www.valleyoutdoors.com/Hikes/images/halfdome.jpg" />
	<br />
	<button onClick="saveData()">Save</button>
	<button onClick="loadData()">Load</button>
	<br />
	<textarea id="outp" cols="60"></textarea>
</body>
</html>